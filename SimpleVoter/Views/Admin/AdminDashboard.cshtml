@model SimpleVoter.Core.ViewModels.AdminViewModels.AdminDashboardViewModel
@{
    ViewBag.Title = "Admin Dashboard";
}

<header class="main-header text-center">
    <h1 class="admin-title">Admin Dashboard</h1>
    <div class="dashboard-buttons">
        @Html.ActionLink("Users", "ShowUsers", "Admin", null, new { @class = "btn btn-custom btn-white danger-hover" })
        @Html.ActionLink("Polls", "ShowAllPolls", "Polls", null, new { @class = "btn btn-custom btn-white danger-hover" })
    </div>
</header>

<section class="mid-section">
    <div class="col-sm-10 col-sm-offset-1">
        <div class="col-lg-3 col-sm-6 col-xs-12">
            <div class="small-box">
                <div class="inner">
                    <h3>@Model.TotalUsers</h3>
                    <p>@Html.LabelFor(vm => vm.TotalUsers)</p>
                </div>
                <div class="icon">
                    <i class="fa fa-users" aria-hidden="true"></i>
                </div>
                <a href="#" class="small-box-footer">
                    Show details <i class="fa fa-arrow-circle-down"></i>
                </a>
            </div>

            <div class="small-box-details">
                <div class="info-box bg-orange">
                    <span class="info-box-icon"><i class="fa fa-calendar-check-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.TotalUsersToday)</span>
                        <span class="info-box-number">@Model.TotalUsersToday</span>
                    </div>
                </div>

                <div class="info-box bg-green">
                    <span class="info-box-icon"><i class="fa fa-calendar-plus-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.NewUsersToday)</span>
                        <span class="info-box-number">@Model.NewUsersToday</span>
                    </div>
                </div>

                <div class="info-box bg-red">
                    <span class="info-box-icon"><i class="fa fa-calendar-minus-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text"> @Html.LabelFor(vm => vm.DeletedUsersToday)</span>
                        <span class="info-box-number">@Model.DeletedUsersToday</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-3 col-sm-6 col-xs-12">
            <div class="small-box">
                <div class="inner">
                    <h3>@Model.TotalPublicPolls</h3>
                    <p>@Html.LabelFor(vm => vm.TotalPublicPolls)</p>
                </div>
                <div class="icon">
                    <i class="fa fa-sticky-note" aria-hidden="true"></i>
                </div>
                <a href="#" class="small-box-footer">
                    Hide details <i class="fa fa-arrow-circle-up"></i>
                </a>
            </div>

            <div class="small-box-details">
                <div class="info-box bg-orange">
                    <span class="info-box-icon"><i class="fa fa-calendar-check-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.PublicPollsToday)</span>
                        <span class="info-box-number">@Model.PublicPollsToday</span>
                    </div>
                </div>

                <div class="info-box bg-green">
                    <span class="info-box-icon"><i class="fa fa-calendar-plus-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.NewPublicPollsToday)</span>
                        <span class="info-box-number">@Model.NewPublicPollsToday</span>
                    </div>
                </div>

                <div class="info-box bg-red">
                    <span class="info-box-icon"><i class="fa fa-calendar-minus-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.DeletedPublicPollsToday)</span>
                        <span class="info-box-number">@Model.DeletedPublicPollsToday</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-3 col-sm-6 col-xs-12">
            <div class="small-box">
                <div class="inner">
                    <h3>@Model.TotalPrivatePolls</h3>
                    <p>@Html.LabelFor(vm => vm.TotalPrivatePolls)</p>
                </div>
                <div class="icon">
                    <i class="fa fa-sticky-note-o" aria-hidden="true"></i>
                </div>
                <a href="#" class="small-box-footer">
                    Hide details <i class="fa fa-arrow-circle-up"></i>
                </a>
            </div>

            <div class="small-box-details">
                <div class="info-box bg-orange">
                    <span class="info-box-icon"><i class="fa fa-calendar-check-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.PrivatePollsToday)</span>
                        <span class="info-box-number">@Model.PrivatePollsToday</span>
                    </div>
                </div>

                <div class="info-box bg-green">
                    <span class="info-box-icon"><i class="fa fa-calendar-plus-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.NewPrivatePollsToday)</span>
                        <span class="info-box-number">@Model.NewPrivatePollsToday</span>
                    </div>
                </div>

                <div class="info-box bg-red">
                    <span class="info-box-icon"><i class="fa fa-calendar-minus-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.DeletedPrivatePollsToday)</span>
                        <span class="info-box-number">@Model.DeletedPrivatePollsToday</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-3 col-sm-6 col-xs-12">
            <div class="small-box">
                <div class="inner">
                    <h3>@Model.TotalUniqueVisitors</h3>
                    <p>@Html.LabelFor(vm => vm.TotalUniqueVisitors)</p>
                </div>
                <div class="icon">
                    <i class="fa fa-eye" aria-hidden="true"></i>
                </div>
                <a href="#" class="small-box-footer">
                    Hide details <i class="fa fa-arrow-circle-up"></i>
                </a>
            </div>

            <div class="small-box-details">
                <div class="info-box bg-orange">
                    <span class="info-box-icon"><i class="fa fa-calendar-check-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.UniqueVisitorsToday)</span>
                        <span class="info-box-number">@Model.UniqueVisitorsToday</span>
                    </div>
                </div>

                <div class="info-box bg-orange">
                    <span class="info-box-icon"><i class="fa fa-eye" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.TotalPageViews)</span>
                        <span class="info-box-number">@Model.TotalPageViews</span>
                    </div>
                </div>

                <div class="info-box bg-orange">
                    <span class="info-box-icon"><i class="fa fa-calendar-check-o" aria-hidden="true"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">@Html.LabelFor(vm => vm.PageViewsToday)</span>
                        <span class="info-box-number">@Model.PageViewsToday</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12">
            <canvas id="statisticsChart" height="100"></canvas>
        </div>
    </div>
</section>

@section scripts
{
    <script>

    $(document).ready(function () {
        var ctx = document.getElementById("statisticsChart").getContext('2d');

        var labels = ['test', 'test2'];
        var data = [11, 22];
        var colors = ['rgba(255, 206, 86, 1)', 'rgba(54, 162, 235, 1)'];
        @*@foreach (var d in Model.Answers)
            {
                @:labels.push("@d.Content");
                @:data.push("@d.Votes");
            }*@

        var myChart = new Chart(ctx,
            {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Votes',
                            data: data,
                            backgroundColor: colors,
                            borderColor: colors,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    legend: {
                        display: false
                    }
                }
            });
        });

        $(".small-box .small-box-footer").click(function (e) {
            e.preventDefault();
            var details = $(this).parent().next();
            var footer = $(this);
            if (details.css("display") == "none") {
                details.slideDown(400, function() {
                    footer.html("Hide details <i class='fa fa-arrow-circle-up'></i>");
                });
            } else {
                details.slideUp(400, function () {
                    footer.html("Show details <i class='fa fa-arrow-circle-down'></i>");
                });
            }
        });
    </script>
}


@*<div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box bg-green">
            <span class="info-box-icon"><i class="fa fa-thumbs-o-up"></i></span>

            <div class="info-box-content">
                <span class="info-box-text">Likes</span>
                <span class="info-box-number">41,410</span>

                <div class="progress">
                    <div class="progress-bar" style="width: 70%"></div>
                </div>
                <span class="progress-description">
                    70% Increase in 30 Days
                </span>
            </div>
        </div>
    </div>*@